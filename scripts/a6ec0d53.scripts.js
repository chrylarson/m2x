"use strict";angular.module("m2xApp",["ngCookies","ngSanitize","ngRoute","ngAnimate"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/blueprints",{templateUrl:"views/blueprints.html",controller:"BlueprintsCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/batches",{templateUrl:"views/batches.html",controller:"BatchesCtrl"}).when("/datasources",{templateUrl:"views/datasources.html",controller:"DatasourceCtrl"}).when("/feeds",{templateUrl:"views/feeds.html",controller:"FeedsCtrl"}).when("/feeds/:feedId/triggers",{templateUrl:"views/triggers.html",controller:"TriggersCtrl"}).when("/feeds/:feedId/streams",{templateUrl:"views/streams.html",controller:"StreamsCtrl"}).when("/feeds/:feedId",{templateUrl:"views/feed.html",controller:"FeedCtrl"}).when("/batches/:batchId",{templateUrl:"views/batch.html",controller:"BatchCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location",function(a,b){a.urlRoot="http://api-m2x.att.com/v1",a.$on("$routeChangeStart",function(){"undefined"==typeof a.apiKey&&b.path("/login")})}]),angular.module("m2xApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("m2xApp").controller("LoginCtrl",["$rootScope","$scope","$http","$location",function(a,b,c,d){b.apiKey="",b.login=function(){a.apiKey=b.apiKey,"undefined"!==a.apiKey&&(c.defaults.headers.common["X-M2X-KEY"]=a.apiKey,d.path("/blueprints"))}}]),angular.module("m2xApp").controller("BlueprintsCtrl",["$rootScope","$scope","$http",function(a,b,c){b.blueprints={};var d=a.urlRoot+"/blueprints";c({url:d,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.blueprints=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("blueprint",function(){return{templateUrl:"views/templates/blueprint.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("BatchesCtrl",["$rootScope","$scope","$http",function(a,b,c){b.batches={};var d=a.urlRoot+"/batches";c({url:d,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.batches=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("batch",function(){return{templateUrl:"views/templates/batch.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("DatasourceCtrl",["$rootScope","$scope","$http",function(a,b,c){b.datasources={};var d=a.urlRoot+"/datasources";c({url:d,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.datasources=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("datasource",function(){return{templateUrl:"views/templates/datasource.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("FeedsCtrl",["$rootScope","$scope","$http",function(a,b,c){b.feeds={};var d=a.urlRoot+"/feeds";c({url:d,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.feeds=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("feed",function(){return{templateUrl:"views/templates/feed.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("TriggersCtrl",["$rootScope","$scope","$http","$routeParams",function(a,b,c,d){b.triggers={};var e=d.feedId||"",f=a.urlRoot+"/feeds/"+e+"/triggers";c({url:f,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.triggers=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("trigger",function(){return{templateUrl:"views/templates/trigger.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("StreamsCtrl",["$rootScope","$scope","$http","$routeParams",function(a,b,c,d){b.streams={};var e=d.feedId||"",f=a.urlRoot+"/feeds/"+e+"/streams";c({url:f,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.streams=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").directive("stream",function(){return{templateUrl:"views/templates/stream.html",restrict:"E",link:function(){}}}),angular.module("m2xApp").controller("FeedCtrl",["$rootScope","$scope","$http","$routeParams",function(a,b,c,d){b.feed={};var e=d.feedId||"",f=a.urlRoot+"/feeds/"+e;c({url:f,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.feed=a,console.log(a)}).error(function(){})}]),angular.module("m2xApp").controller("BatchCtrl",["$rootScope","$scope","$http","$routeParams",function(a,b,c,d){b.batch={};var e=d.batchId||"",f=a.urlRoot+"/batches/"+e;c({url:f,method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.batch=a,console.log(a),c({url:f+"/datasources",method:"GET",timeout:1e4,headers:{"Content-Type":"application/json"}}).success(function(a){b.batch.datasources=a,console.log(a)}).error(function(){})}).error(function(){})}]);